(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[501],{4627:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/users",function(){return t(7347)}])},6946:function(e,n,t){"use strict";t.d(n,{ni:function(){return r},y1:function(){return i},zB:function(){return a}});var l=t(4076),s=t(1259);function i(e,n){return(0,s.Xb)(l.I8,e,n)}function a(e,n){return(0,s.e5)(l.I8,e,n)}function r(){return(0,s.w7)(l.I8)}},7347:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return z}});var l=t(5893),s=t(7547),i=t(7183),a=t(2195),r=t(8508),c=t(1577),o=t(9875),d=t(7294),h=t(8795),u=t(6738),m=t(6713),f=t(2787),x=t(7763),p=t.n(x),j=t(4076),y=t(5045),g=t(9014),k=t(8521);let{Panel:Z}=y.Z,N=e=>{let{isModalOpen:n,setIsModalOpen:t}=e,[i,a]=(0,d.useState)(""),[r,o]=(0,d.useState)([]),[h,m]=(0,d.useState)("email");(0,d.useEffect)(()=>{""!==i&&(0,j.Er)("users",h,i).then(e=>{0===e.length&&"email"===h?m("companyName"):0===e.length&&"companyName"===h?m("idPost"):0===e.length&&"idPost"===h?m("email"):o(e)}).catch(e=>console.log(e))},[i]);let f=()=>{let e=[];r.map((n,t)=>{e.push({...n,file:n.file.href,fileName:n.file.name})}),(0,k.p)(e,"users")},x=()=>{t(!1),o([])};return(0,l.jsx)(g.Z,{title:"Знайти та експортувати",centered:!0,open:n,okText:"Експортувати все",cancelText:"Закрити",onOk:f,onCancel:x,destroyOnClose:!0,children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(u.Z,{onChange:e=>a(e.target.value),size:"large",placeholder:"Введіть індетифікатор/емейл/ім'я компанії",prefix:(0,l.jsx)(s.Z,{})}),(0,l.jsx)(c.ZP,{onClick:()=>o([]),children:"Скинути"})]}),(0,l.jsx)("hr",{className:"my-4"}),(0,l.jsx)("h2",{children:"Інформація за пошуком"}),(0,l.jsx)(y.Z,{className:"mt-4",children:r.map((e,n)=>(0,l.jsxs)(Z,{header:"".concat(e.email," | ").concat(e.idPost),children:[(0,l.jsxs)("ul",{className:"mb-4",children:[(0,l.jsxs)("li",{children:["Емейл адреса: ",e.email]}),(0,l.jsxs)("li",{children:["Ім'я компанії: ",e.companyName]}),(0,l.jsxs)("li",{children:["Файл: ",(0,l.jsx)("a",{target:"_blank",href:e.file.href,children:e.file.name})]})]}),(0,l.jsx)(c.ZP,{type:"dashed",onClick:()=>(0,k.p)([{...e,file:e.file.href,fileName:e.file.name}],e.companyName),children:"Експортувати"})]},e.idPost))})]})})},v=()=>{let[e,n]=(0,d.useState)(""),[t,s]=(0,d.useState)([]),[i,a]=(0,d.useState)(""),r=(0,d.useRef)(null);(0,d.useEffect)(()=>{(0,j.Fv)("users",10).then(e=>{s(e)})},[]);let o=()=>{let e=[];t.map((n,t)=>{e.push({...n,file:n.file.href,fileName:n.file.name})}),(0,k.p)(e,"usersAll")},x=(e,t,l)=>{t(),n(e[0]),a(l)},y=e=>{e(),n("")},g=t=>({filterDropdown:e=>{let{setSelectedKeys:s,selectedKeys:i,confirm:o,clearFilters:d,close:f}=e;return(0,l.jsxs)("div",{style:{padding:8},onKeyDown:e=>e.stopPropagation(),children:[(0,l.jsx)(u.Z,{ref:r,placeholder:"Пошук",value:i[0],onChange:e=>s(e.target.value?[e.target.value]:[]),onPressEnter:()=>x(i,o,t),style:{marginBottom:8,display:"block"}}),(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(c.ZP,{type:"primary",onClick:()=>x(i,o,t),icon:(0,l.jsx)(h.Z,{}),size:"small",style:{width:90},children:"Пошук"}),(0,l.jsx)(c.ZP,{onClick:()=>d&&y(d),size:"small",style:{width:90},children:"Скинути"}),(0,l.jsx)(c.ZP,{type:"link",size:"small",onClick:()=>{o({closeDropdown:!1}),n(i[0]),a(t)},children:"Фільтр"}),(0,l.jsx)(c.ZP,{type:"link",size:"small",onClick:()=>{f()},children:"Закрити"})]})]})},filterIcon:e=>(0,l.jsx)(h.Z,{style:{color:e?"#1890ff":void 0}}),onFilter:(e,n)=>n[t].toString().toLowerCase().includes(e.toLowerCase()),onFilterDropdownOpenChange:e=>{e&&setTimeout(()=>{var e;return null===(e=r.current)||void 0===e?void 0:e.select()},100)},render:n=>i===t?(0,l.jsx)(p(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[e],autoEscape:!0,textToHighlight:n?n.toString():""}):n}),Z=[{title:"Ідентифікатор",dataIndex:"idPost",key:"idPost",width:"10%",...g("idPost")},{title:"Електронна пошта",dataIndex:"email",key:"email",width:"20%",...g("email")},{title:"Ім'я компанії\n",dataIndex:"companyName",key:"companyName",width:"20%",...g("companyName")},{title:"Файл",dataIndex:"file",key:"file",...g("file"),sortDirections:["descend","ascend"],width:"30%",render:e=>{let{href:n,name:t}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("a",{target:"_blank",href:n,children:t})})}},{title:"Дія\n",key:"action",render:(e,n)=>(0,l.jsx)(m.Z,{size:"middle",children:(0,l.jsx)("a",{onClick:e=>(0,k.p)([{...n,file:n.file.href,fileName:n.file.name}],n.companyName),children:"Експорт"})})}],[v,C]=(0,d.useState)(!1);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(N,{isModalOpen:v,setIsModalOpen:C}),(0,l.jsxs)("div",{className:"flex items-center gap-4 justify-end my-4",children:[(0,l.jsx)(c.ZP,{className:"text-black",type:"primary",onClick:()=>C(!v),children:"Знайти та експортувати"})," | ",(0,l.jsx)(c.ZP,{className:"text-black",type:"primary",onClick:o,children:"Експортувати все"})]}),(0,l.jsx)(f.Z,{columns:Z,dataSource:t})]})};var C=t(3478),P=t(1163),b=t.n(P),w=t(6946);let{Content:S,Sider:_,Header:E}=i.Z,I=[{key:"sub1",icon:(0,l.jsx)(s.Z,{}),children:void 0,label:"Користувачі"}];var z=function(){let{user:e,loading:n,error:t}=(0,C.SE)();(0,d.useEffect)(()=>{n||e||b().push("/auth")},[e,n]);let[s,h]=(0,d.useState)(!1),{token:{colorBgContainer:u}}=a.Z.useToken();return(0,l.jsxs)(i.Z,{style:{minHeight:"100vh"},children:[(0,l.jsxs)(_,{collapsible:!0,collapsed:s,onCollapse:e=>h(e),children:[(0,l.jsx)("div",{className:"text-center h-[32px] m-[16px] bg-[#00b96b] text-[24px]"}),(0,l.jsx)(r.Z,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline",items:I})]}),(0,l.jsxs)(i.Z,{className:"site-layout",children:[(0,l.jsxs)(E,{children:[(0,l.jsx)("div",{className:"logo"}),(0,l.jsx)(c.ZP,{href:"#",onClick:w.ni,style:{color:"#fff",background:"transparent"},children:"Вийти"})]}),(0,l.jsxs)(S,{style:{margin:"0 16px"},children:[(0,l.jsx)(o.Z,{style:{margin:"16px 0"},children:(0,l.jsx)(o.Z.Item,{children:"Користувачі"})}),(0,l.jsx)("div",{style:{padding:24,minHeight:360,background:u},children:(0,l.jsx)(v,{})})]})]})]})}},7124:function(){},846:function(){}},function(e){e.O(0,[50,918,933,774,888,179],function(){return e(e.s=4627)}),_N_E=e.O()}]);